doctype html
#{__('LANG')}.h-100
  head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
    meta(name='description' content='')
    meta(name='author' content='Mark Otto, Jacob Thornton, and Bootstrap contributors')
    meta(name='generator' content='Jekyll v4.0.1')
    title #{title} - Webrec
    link(rel='canonical' href='https://getbootstrap.com/docs/4.5/examples/dashboard/')
    link(rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css")

    // Bootstrap core CSS
    link(href='/webrec/assets2/dist/css/bootstrap.css' rel='stylesheet')
    style.
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap');
      body {
        font-family: 'Noto Sans JP', sans-serif;
      }
      .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      }
      @media (min-width: 768px) {
      .bd-placeholder-img-lg {
      font-size: 3.5rem;
      }
      }
    // Custom styles for this template
    link(href='/webrec/assets2/dashboard.css' rel='stylesheet')
    link(href='/webrec/assets2/carousel.css' rel='stylesheet')
    block head

  header
    nav.navbar.navbar-expand-md.navbar-dark.fixed-top.bg-dark
      a.navbar-brand(href='/webrec')
        i.fas.fa-fw.fa-microphone-alt
        | Webrec
      button.navbar-toggler(type='button' data-toggle='collapse' data-target='#navbarCollapse' aria-controls='navbarCollapse' aria-expanded='false' aria-label='Toggle navigation')
        span.navbar-toggler-icon
        
      #navbarCollapse.collapse.navbar-collapse
        ul.navbar-nav.mr-auto
          if !user
            li.nav-item(class=(title === __('login')) ? 'active' : undefined)
              a.nav-link(href='/webrec/login') #{__('login')}
            li.nav-item(class=(title === __('create_account')) ? 'active' : undefined)
              a.nav-link(href='/webrec/signup') #{__('create_account')}
          else
            li.nav-item.d-xs-block.d-sm-block.d-md-none
              a.nav-link(href='/webrec')
                i.fa.fa-fw.fa-home
                |   #{__('Dashboard')}
            li.nav-item.d-xs-block.d-sm-block.d-md-none
              a.nav-link(href='/webrec/account')
                i.fa.fa-fw.fa-user-cog
                |   #{__('my_account')}

            li.nav-item.d-xs-block.d-sm-block.d-md-none
              a.nav-link(href='/webrec/corpus/edit')
                i.fa.fa-fw.fa-folder-plus
                |  #{__('Create a corpus')}
            li.nav-item.d-xs-block.d-sm-block.d-md-none
              a.nav-link(href='/webrec/corpus/list')
                i.fa.fa-fw.fa-edit
                |  #{__('Edit a corpus')}

            li.nav-item.d-xs-block.d-sm-block.d-md-none
              a.nav-link(href='/webrec/audio/list')
                i.fa.fa-fw.fa-microphone-alt
                |  #{__('New recording')}

            li.nav-item(class=(title === __('logout')) ? 'active' : undefined)
              a.nav-link(href='/webrec/logout') #{__('logout')}

        ul.nav.navbar-nav.ml-auto
          li.dropdown(class=undefined).nav-item
            a.dropdown-toggle.nav-link(href='#', data-toggle='dropdown')
              i.fas.fa-fw.fa-globe-americas
              | Language
            ul.dropdown-menu
              li.dropdown-item
                a(href='/webrec/lang/ja') 日本語
              li.divider.dropdown-item
              li.dropdown-item
                a(href='/webrec/lang/en') English

  body.h-100.d-flex.flex-column
    if !user
      block main
      .container
        include partials/flash
        block content
    else
      .container-fluid
        .row
          nav#sidebarMenu.col-md-3.col-lg-2.d-md-block.bg-light.sidebar.collapse
            .sidebar-sticky.pt-3
              h6.sidebar-heading.d-flex.justify-content-between.align-items-center.px-3.mt-4.mb-1.text-muted
                span #{__('Hello, {{username}}', { username: user.profile.name })}
              ul.nav.flex-column
                li.nav-item(class=(title === __('home')) ? 'active' : undefined)
                  a.nav-link(href='/webrec')
                    i.fa.fa-fw.fa-home
                    |  #{__('Dashboard')}
                li.nav-item
                  a.nav-link(href='/webrec/account')
                    i.fa.fa-fw.fa-user-cog
                    |   #{__('my_account')}
              h6.sidebar-heading.d-flex.justify-content-between.align-items-center.px-3.mt-4.mb-1.text-muted
                span Corpus
              ul.nav.flex-column
                li.nav-item
                  a.nav-link(href='/webrec/corpus/edit')
                    i.fa.fa-fw.fa-folder-plus
                    |  #{__('Create a corpus')}
                li.nav-item
                  a.nav-link(href='/webrec/corpus/list')
                    i.fa.fa-fw.fa-edit
                    |  #{__('Edit a corpus')}
              h6.sidebar-heading.d-flex.justify-content-between.align-items-center.px-3.mt-4.mb-1.text-muted
                span Recording
              ul.nav.flex-column
                li.nav-item
                  a.nav-link(href='/webrec/audio/list')
                    i.fa.fa-fw.fa-microphone-alt
                    |  #{__('New recording')}
              //- h6.sidebar-heading.d-flex.justify-content-between.align-items-center.px-3.mt-4.mb-1.text-muted
              //-   span Recents
          main.col-md-9.ml-sm-auto.col-lg-10.px-md-4(role='main')
            .d-flex.justify-content-between.flex-wrap.flex-md-nowrap.align-items-center.pt-3.pb-2.mb-3
            include partials/flash
            block content

    footer.footer
      .container

  script(src='https://code.jquery.com/jquery-3.5.1.slim.min.js' integrity='sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj' crossorigin='anonymous')
  script.
    window.jQuery || document.write('<script src="../assets/js/vendor/jquery.slim.min.js"><\\/script>')
  script(src='/webrec/assets2/dist/js/bootstrap.bundle.js')
  //- script(src='https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js')
  //- script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js')
  //- script(src='assets2/dashboard.js')
  block foot
